<div class="container">
  <div class="courses-list">
    @for(c of courses ; track c.id) {

    <app-course [course]="c">
      <div ngProjectAs="actions">
        <button mat-raised-button color="primary" (click)="viewLessons(c.id!)">
          <mat-icon>visibility</mat-icon>
        </button>
        @if (role == 'admin'|| role == 'teacher') {
        <button mat-raised-button color="warn" (click)="DeleteCourse(c.id!)">
          <mat-icon>delete</mat-icon>
        </button>
        <button mat-raised-button color="accent" (click)="EditCourse(c)">
          <mat-icon>edit</mat-icon>
        </button>
        } @else if (role == 'student' && !(isEnrolled(c.id!) | async)) {
        <button mat-raised-button color="primary" (click)="Enroll(c.id!)">
          Enroll
        </button>
        }
      </div>
    </app-course>

    } @empty {

    <div>No users found</div>
    } @if (role == 'admin'|| role == 'teacher') {<button
      mat-raised-button
      color="primary"
      (click)="AddCourse()"
    >
      add course</button
    >}
  </div>
  <div class="course-details">
    <router-outlet></router-outlet>
  </div>
</div>

@if(isAddCourse ||isEditCourse ) {
<div class="overlay">
  <app-course-form
    [course]="selectedCourse"
    (closeForm)="closeForm()"
    [isEdit]="isEditCourse"
    [teacherId]="userId"
  >
  </app-course-form>
</div>
}
